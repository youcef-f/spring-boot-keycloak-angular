<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.1.3.2 (Windows)"/>
	<meta name="created" content="2020-05-01T23:53:52.801000000"/>
	<meta name="changed" content="2020-05-01T23:56:25.319000000"/>
	<style type="text/css">
		@page { size: 21cm 29.7cm; margin: 2cm }
		p { margin-bottom: 0.25cm; line-height: 115%; background: transparent }
		h1 { margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Serif", serif; font-size: 24pt; font-weight: bold }
		h1.cjk { font-family: "NSimSun"; font-size: 24pt; font-weight: bold }
		h1.ctl { font-family: "Lucida Sans"; font-size: 24pt; font-weight: bold }
		h2 { margin-top: 0.35cm; margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h2.western { font-family: "Liberation Serif", serif; font-size: 18pt; font-weight: bold }
		h2.cjk { font-family: "NSimSun"; font-size: 18pt; font-weight: bold }
		h2.ctl { font-family: "Lucida Sans"; font-size: 18pt; font-weight: bold }
		h3 { margin-top: 0.25cm; margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h3.western { font-family: "Liberation Serif", serif; font-size: 14pt; font-weight: bold }
		h3.cjk { font-family: "NSimSun"; font-size: 14pt; font-weight: bold }
		h3.ctl { font-family: "Lucida Sans"; font-size: 14pt; font-weight: bold }
		blockquote { margin-left: 1cm; margin-right: 1cm; background: transparent }
		pre { background: transparent }
		pre.western { font-family: "Liberation Mono", monospace; font-size: 10pt }
		pre.cjk { font-family: "NSimSun", monospace; font-size: 10pt }
		pre.ctl { font-family: "Liberation Mono", monospace; font-size: 10pt }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		em { font-style: italic }
		strong { font-weight: bold }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="fr-FR" link="#000080" vlink="#800000" dir="ltr"><h1 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 120%; background: transparent">
<b>Securing Java Rest Services with Keycloak - Part 1</b></h1>
<ul>
	<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 142%; background: transparent">
	<font size="1" style="font-size: 8pt">Published on November 27, 2018</font></p>
</ul>
<div id="ember54" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm">
	<br/>

	</p>
	<div id="ember55" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm">
		<br/>

		</p>
		<div id="ember56" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember57"></a>
			<br/>

			</p>
			<div id="ember58" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm">
				<br/>

				</p>
				<div id="ember59" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember60"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">
  <font color="#000000">
    <img src="documentation_html_6cdce1ce9eb807bd.gif" name="Image1" alt="Jannie Louwrens" align="bottom" width="49" height="49" border="2"/>
  </font>
</a>
</span></p>
				</div>
			</div>
		</div>
		<div id="ember62" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm">
			<br/>

			</p>
			<div id="ember63" dir="ltr" style="background: transparent"><h2 class="western" style="margin-right: 0.17cm; margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 150%; background: transparent"><a name="ember64"></a>
				<span style="display: inline-block; border: none; padding: 0cm"><font color="#665ed0"><span style="text-decoration: none"><font face="var artdeco-typography-sans"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">Jannie
				Louwrens</span></span></b></font></font></span></font></a></h2>
			</div>
			<div id="ember65" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; line-height: 142%">
				<br/>

				</p>
				<div id="ember66" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; line-height: 142%">
					<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><font size="1" style="font-size: 8pt">Java
					Developer</span></span></font></p>
				</div>
			</div>
		</div>
	</div>
	<p style="margin-bottom: 0cm"><a name="ember101"></a><span style="display: inline-block; border: none; padding: 0cm"><font color="#0073b1"><span style="text-decoration: none"><font size="1" style="font-size: 8pt"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/detail/recent-activity/posts/">6
	articles&nbsp;</span></b></font></span></font></a><span style="background: transparent"><font size="2" style="font-size: 9pt">Follow</span></span></font></p>
</div>
<div id="ember69" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm">
	<br/>

	</p>
	<div id="ember70" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm">
		<br/>

		</p>
	</div>
</div>
<div id="ember71" dir="ltr" style="background: transparent"><h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 133%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">Overview</span></span></b></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Every
	developer knows the importance of a secure and reliable REST service
	which can be a difficult thing to get right. But with the explosive
	growth of RESTful APIs, the security layer is often the one that is
	most overlooked in the architectural design of the API.</span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 140%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">Background</span></span></b></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">I
	mostly develop Java EE applications which are deployed to&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.redhat.com/en/technologies/jboss-middleware/application-platform" target="_blank">JBoss
	EAP</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;or&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="http://wildfly.org/" target="_blank">Wildfly</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;servers
	and I was looking for a simple way of securing the rest layer. I
	found an easy way to secure&nbsp;existing Java EE applications
	using&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/" target="_blank">Keycloak</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">.
	It just makes sense since my applications are already running on a
	Redhat product!&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>But
	Keycloak is not just limited to Java EE and can also be used to
	secure Spring Boot microservices or Angular applications, for
	example.</span></span></span></i></font></font></em></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 133%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">What
	is Keycloak?</span></span></b></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">From
	their website:</span></span></font></font></p>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-weight: normal; line-height: 360%; text-align: center; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">Keycloak
	is an open source Identity and Access Management solution aimed at
	modern applications and services. It makes it easy to secure
	applications and services with little to no code.</span></span></i></font></font></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">In
	short it is my understanding that it is a way to secure your
	services with a lot of features like SSO, Social Login, Two-Factor
	Authentication and&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/about.html" target="_blank">many
	more</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;features.</span></span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 133%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="4" style="font-size: 14pt"><b><span style="background: transparent"><strong>Getting
	Started</span></span></b></font></strong></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Keycloak
	has excellent documentation on how to install and configure the
	Keycloak server. It explains what a security realm is and how to
	create a realm using Keycloak&rsquo;s administration dashboard. So
	let&rsquo;s&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/getting_started/index.html#_install-boot" target="_blank">download
	and install Keycloak</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;and
	then&nbsp;</span></span></font></font><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/getting_started/index.html#creating-the-admin-account" target="_blank">create
	an admin account</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">.</span></span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 140%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">Creating
	a Realm</span></span></b></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Keycloak
	defines the concept of a realm in which you will define your
	clients, which in Keycloak terminology means an application that
	will be secured by Keycloak , and this can be a Web App, a Java EE
	backend, a Spring Boot application,or an Angular application, etc.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/getting_started/index.html#_create-realm" target="_blank">Create
	a new realm</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;called&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">.
	We will use this&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;realm
	for configuring the roles and users.</span></span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 140%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">Creating
	the Role And User</span></span></b></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Keycloak
	uses the Role-Based Access. Therefore, each user must have a role.
	Let's create a simple role called &quot;user&quot;:</span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">From
		the menu, click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Roles</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		open the role list page.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">On
		the right side of the table, click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Add
		Role</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		open the add role page.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Enter&nbsp;</span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><i><span style="background: transparent"><em>user</span></i></font></font></em><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;in
		the Role Name field; this is the only required field. Click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Save</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		save the data.</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_51fc3d88543353c5.png" name="Image2" align="bottom" width="744" height="251" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Now
	let&rsquo;s create the username,&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>metalgear</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">,
	with the password,&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>p@ssw0rd</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">:</span></span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">From
		the menu, click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Users</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		open the user list page.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">On
		the right side of the empty user list, click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Add
		User</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		open the add user page.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Enter&nbsp;</span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><i><span style="background: transparent"><em>metalgear</span></i></font></font></em><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;in
		the Username field; this is the only required field. Click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Save</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		save the data and open the management page for the new user.</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_47268e5944fc7fcf.png" name="Image3" align="bottom" width="744" height="449" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Set
	the password for the user&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>metalgear</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">:</span></span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Click
		the&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Credentials</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;tab
		to set the password for the new user.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Type&nbsp;</span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><i><span style="background: transparent"><em>p@ssw0rd</span></i></font></font></em><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;and
		confirm it.</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Flip
		the&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Temporary</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;switch
		from&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>On</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Off&nbsp;</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">and</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="background: transparent"><strong>&nbsp;</span></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Click&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Reset
		Password</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;to
		set the user password to the new one you specified.</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_a6af05c985854bdc.png" name="Image4" align="bottom" width="744" height="430" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Assign
	the&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>user</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;role
	to user&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>metalgear</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">:</span></span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Click
		on the&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Role
		Mappings</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;tab</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Under&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Available
		Roles</span></b></font></font></strong><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">,
		select&nbsp;</span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><i><span style="background: transparent"><em>user</span></i></font></font></em><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;and
		click on&nbsp;</span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Add
		Selected</span></span></b></font></font></strong></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_4f6fe4a2b2d77d2a.png" name="Image5" align="bottom" width="744" height="315" border="0"/>
</span></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 140%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">Creating
	the Client</span></span></b></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Next
	we need to define a client. Go to the&nbsp;</span></span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Clients</span></b></font></font></strong><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;section
	and click on the create button. We will simply name this
	client,&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>my-app</span></span></i></font></font></em><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">:</span></span></span></font></font></p>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_8b61d39a5ae3f82.png" name="Image6" align="bottom" width="744" height="242" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Click
	on the&nbsp;</span></span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Save</span></b></font></font></strong><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;button
	and on the next screen we will keep the default settings except
	for&nbsp;</span></span></font></font><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><b><span style="background: transparent"><strong>Valid
	Redirect URIs</span></b></font></font></strong><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;where
	we enter a valid redirect URL where Keycloak can redirect to after a
	successful login or logout. This value is typically the URL of the
	application which you want to secure. Enter the value
	as:&nbsp;</span></span></font></font><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/*
	(Note the star at the end of the URL).</span></span></span></i></font></font></em></p>
	<p style="margin-bottom: 0cm; line-height: 320%"><span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_59ae645908026290.png" name="Image7" align="bottom" width="744" height="787" border="0"/>
</span></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 133%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><b><span style="background: transparent"><font size="2" style="font-size: 9pt">That's
	it!</span></span></b></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">We
	are done configuring the Keycloak server and we can start
	integrating it with our application!</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">Continue
	reading&nbsp;</span></span></font></font><font color="#544bc2"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-2-jannie-louwrens/" target="_blank">part
	2 - securing Java EE microservice using Thorntail</span></span></font></font></span></font></a><font size="2" style="font-size: 9pt"><span style="font-weight: normal"><span style="background: transparent"><font face="Source Serif Pro, serif">&nbsp;or
	[securing Spring Boot microsrevices] to find out how to secure
	applications.</span></span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 320%; background: transparent">
	<br/>

	</p>
</div>
<h1 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 120%; background: transparent">
<b>Securing Java Rest Services with Keycloak - Part 2</b></h1>
<ul>
	<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 142%; background: transparent">
	<font size="1" style="font-size: 8pt">Published on December 2, 2018</font></p>
</ul>
<div id="Section1" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember54"></a>
	<br/>

	</p>
	<div id="Section2" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember55"></a>
		<br/>

		</p>
		<div id="Section3" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember56"></a><a name="ember571"></a>
			<br/>

			</p>
			<div id="Section4" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember58"></a>
				<br/>

				</p>
				<div id="Section5" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember59"></a><a name="ember601"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">
  <font color="#000000">
    <img src="documentation_html_6cdce1ce9eb807bd.gif" name="Image8" alt="Jannie Louwrens" align="bottom" width="49" height="49" border="2"/>
  </font>
</a>
</span></p>
				</div>
			</div>
		</div>
		<div id="Section6" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal"><a name="ember62"></a>
			<br/>

			</p>
			<div id="Section7" dir="ltr" style="background: transparent"><h2 class="western" style="margin-right: 0.17cm; margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 150%; background: transparent"><a name="ember63"></a><a name="ember641"></a>
				<span style="display: inline-block; border: none; padding: 0cm"><font color="#665ed0"><span style="text-decoration: none"><font face="var artdeco-typography-sans"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">Jannie
				Louwrens</span></span></b></font></font></span></font></a></h2>
			</div>
			<div id="Section8" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 142%"><a name="ember65"></a>
				<br/>

				</p>
				<div id="Section9" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; line-height: 142%"><a name="ember66"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><font size="1" style="font-size: 8pt">Java
					Developer</span></span></font></p>
				</div>
			</div>
		</div>
	</div>
	<p style="margin-bottom: 0cm"><a name="ember1011"></a><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#0073b1"><span style="text-decoration: none"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="1" style="font-size: 8pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/detail/recent-activity/posts/">6
	articles&nbsp;</span></b></span></span></font></font></span></font></span></a><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Follow</span></span></span></span></span></font></font></span></p>
</div>
<div id="Section10" dir="ltr" style="background: #ffffff"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember69"></a>
	<br/>

	</p>
	<div id="Section11" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember70"></a>
		<br/>

		</p>
	</div>
</div>
<div id="Section12" dir="ltr" style="background: #ffffff"><h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent"><a name="ember71"></a>
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Overview</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">We
	live in a microservices world, and some would argue this world is
	here to stay. Therefore it is significant&nbsp;to understand the
	importance of a secure and reliable REST service.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">We&rsquo;ll
	see how to create and secure a microservice with Java EE. We&rsquo;ll
	build&nbsp;a simple REST application with JAX-RS created
	with&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://thorntail.io/" target="_blank">Thorntail</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	security functionalities are added with&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/" target="_blank">Keycloak</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Background</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">In&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-1-jannie-louwrens/" target="_blank">part
	1</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	the series on securing Java rest services with Keycloak we&rsquo;ve
	learned what Keycloak is and also how to install and configure a
	local instance of Keycloak. In this part we will look at Thorntail
	and see how we can easily create a JAX-RS application using the
	framework.</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">What
	is Thorntail?</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://docs.thorntail.io/2.2.1.Final/" target="_blank">Thorntail
	documentation</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;describes
	it best:</span></span></span></span></span></font></font></span></p>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">Thorntail
	is a framework based on the popular WildFly Java application server
	to enable the creation of small, standalone microservice-based
	applications. Thorntail is capable of producing so-called just
	enough app-server to support each component of your system.</span></span></i></font></font></blockquote>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Getting
	Started</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	simplest way to get started with a Thorntail microservice
	application is by using the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://thorntail.io/generator/" target="_blank">Thorntail
	project generator</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	follow the instructions:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_af490449009bd151.png" name="Image9" align="bottom" width="744" height="699" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Enter
	the following values:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Group Id: com.example.demo</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Artifact ID: helloworld</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Dependencies: JAX-RS</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">...then
	click on the Generate Project button.</span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Testing
	the new project</span></span></b></font></font></h3>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Unzip&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>helloworld.zip</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;in
		any directory of your choice</span></span></span></span></span></font></font></span></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a terminal in that directory and run&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>mvn
		thorntail:run</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a web browser and navigate to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
		confirm the output message:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>Hello
		from Thorntail!</span></span></b></span></span></font></font></span></strong></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Congratulations!
		You have created a microservice with Thorntail.</span></span></font></font></p>
	</ol>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">What&rsquo;s
	Inside the Default Project?</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">I
	found the best way for me to explore what is inside this helloworld
	project is to import the helloworld maven project into my IDE.</span></span></font></font></p>
	<p style="margin-left: 0.68cm; margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_528948a70a54b357.png" name="Image10" align="bottom" width="261" height="120" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">This
	is the the directory structure:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>RestApplication.java</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">This
	is a JAX-RS class activator which extends
	javax.ws.rs.core.Application and declares the Path where the JAX-RS
	Services will be available. In other words, this is the main entry
	point into the application.</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">package</font></font> com.example.demo.helloworld.rest;</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">import</font></font> javax.ws.rs.<font color="#544bc2"><font size="1" style="font-size: 7pt">ApplicationPath</font></font>;</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">import</font></font> javax.ws.rs.core.<font color="#544bc2"><font size="1" style="font-size: 7pt">Application</font></font>;</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#0073b1"><font size="1" style="font-size: 7pt">@ApplicationPath</font></font>(<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;/&quot;</font></font>)</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">public <font color="#17afb8"><font size="1" style="font-size: 7pt">class</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">RestApplication</font></font><font size="1" style="font-size: 7pt"> </font><font color="#17afb8"><font size="1" style="font-size: 7pt">extends</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">Application</font></font><font size="1" style="font-size: 7pt"> </font>{</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>HelloWorldEndpoint.java</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">This
	class defines the HelloWorldEndpoint as a simple GET operation which
	returns a Response object result which contains a String value.</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">package com.example.demo.helloworld.rest;</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">import javax.ws.rs.Path;</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">import javax.ws.rs.core.Response;</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">import javax.ws.rs.GET;</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">import javax.ws.rs.Produces;</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">@<font color="#17afb8"><font size="1" style="font-size: 7pt">Path</font></font>(&quot;/<font color="#17afb8"><font size="1" style="font-size: 7pt">hello</font></font>&quot;)</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">public class HelloWorldEndpoint {</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">@</span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">GET</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">@Produces(</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;text/plain&quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">)</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">public Response doGet() {</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">return Response.ok(&quot;Hello from Thorntail!&quot;).build();</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>The
	main pom.xml</span></span></b></u></span></span></font></font></span></strong></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#0073b1"><font size="1" style="font-size: 7pt">&lt;?</font></font>xml version=<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;1.0&quot;</font></font> encoding=<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;UTF-8&quot;</font></font><font color="#0073b1"><font size="1" style="font-size: 7pt">?&gt;</font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;project xmlns=<font color="#e61e89">&quot;http://maven.apache.org/POM/4.0.0&quot;</font> xmlns:xsi=<font color="#e61e89">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</font></span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><font color="#469a1f">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">xsi:schemaLocation=</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&gt;</span></span></font></font></span></span></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;modelVersion&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">4.0.0</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/modelVersion&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">com.example.demo</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">helloworld</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;name&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">Thorntail Example</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/name&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;version&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">1.0.0-SNAPSHOT</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/version&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;packaging&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">war</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/packaging&gt;</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;properties&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;version.thorntail&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">2.2.1.Final</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/version.thorntail&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;maven.compiler.source&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">1.8</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/maven.compiler.source&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;maven.compiler.target&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">1.8</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/maven.compiler.target&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;failOnMissingWebXml&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">false</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/failOnMissingWebXml&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;project.build.sourceEncoding&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">UTF-8</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/project.build.sourceEncoding&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/properties&gt;</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependencyManagement&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">io.thorntail</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">bom-all</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;version&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">${version.thorntail}</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/version&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;scope&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">import</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/scope&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;type&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">pom</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/type&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependencyManagement&gt;</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;build&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;finalName&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">demo</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/finalName&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;plugins&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;plugin&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">io.thorntail</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">thorntail-maven-plugin</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;version&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">${version.thorntail}</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/version&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;executions&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;execution&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;goals&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;goal&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">package</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/goal&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/goals&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/execution&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/executions&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/plugin&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/plugins&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/build&gt;</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp;&nbsp;</span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">io.thorntail</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">jaxrs</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/project&gt;</span></span></font></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>&lt;artifactId&gt;bom-all&lt;/artifactId&gt;</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	All components and dependencies of Thorntail are version-managed&nbsp;in
	a Bill of Materials (BOM). This allows you to reference any
	Thorntail component.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>&lt;finalName&gt;demo&lt;/finalName&gt;</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	The final name of the war archive would be&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo.war</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	It is important to note this, since we are going to need this name
	when configuring the security constrains next.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">And
	last but not there is a dependency to JAX-RS which provides RESTful
	Web Services support to the application.</span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Securing
	the Application</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Let
	us start adding the Keycloak security functionalities to the
	application. The goal is to make the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;rest
	endpoint secure so that only authorised users can access it.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Update
	the Maven Pom File</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">The
	first thing we do is to bring Keycloak integration to our
	application by adding the Keycloak dependency to the maven pom file:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;dependency&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp;&nbsp;&nbsp;<font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">io.thorntail</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp;&nbsp;&nbsp;<font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloak</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/dependency&gt;</span></span></font></font></font></pre><h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Application
	Resources</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Every
	application built with Thorntail has a vast variety of configurable
	options. In all cases, reasonable defaults are already applied, and
	you only need to concern yourself with those particular items you
	wish to explicitly change from their default values. If an
	application contains a file named&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>project-defaults.yml</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,
	that file represents the defaults applied over top the absolute
	defaults that Thorntail provides to your application.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Right
	now our application has no properties file, and we need to create
	one so that we can override some default properties and also
	configure the security constraints.</span></span></font></font></p>
	<p style="margin-left: 0.68cm; margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_381256961896470d.png" name="Image11" align="bottom" width="282" height="172" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Create
	a&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>resources</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;directory
	under the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>src/main/</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;folder
	and then create the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>projects-default.yml</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;file
	inside the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/src/main/resources</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;directory:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>project-defaults.yml</span></span></b></u></span></span></font></font></span></strong></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">thorntail:</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">http:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">port: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">8081</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">deployment:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">demo.war:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">web:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">login-config:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">auth-method: </span></span></font></font><font color="#544bc2"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">KEYCLOAK</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">security-constraints:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">- url-pattern: /hello</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">roles:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">- </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;user&quot;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloak:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">secure-deployments:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">demo.war:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">auth-server-url: </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;http://localhost:8080/auth&quot;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">realm: demo</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">resource: my-app</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">public</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">-client: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">true</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">ssl-</span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">required</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">: </span></span></font></font><font color="#544bc2"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">EXTERNAL</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">principal-attribute: preferred_username</span></span></font></font></span></span></pre><h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Explanation
	of the Properties</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">At
	first this properties file might look overwhelming, but if you are
	familiar with the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm" target="_blank">configurations
	inside a&nbsp;</span></span></span></span></font></font></span></font></span><em><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent">web.xml</span></span></i></span></font></font></span></font></span></em><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent">&nbsp;to
	secure a standard web application</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,
	you'll soon be at ease.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>thorntail.http.port</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">The
	port for the HTTP server of which the default value is 8080. But
	since we already have the local instance of Keycloak running on port
	8080 we need to adjust the default value. And I chose to increment
	the port number by one so that it is 8081.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>thorntail.deployment.demo.war:</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>thorntail-deployment</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;maps
	the security configuration by deployment. Now the documentation list
	this property as&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>thorntail.deployment.KEY</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;where
	KEY is the application archive name after final build. In our case
	it is&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo.war</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;which
	is the value of the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>&lt;finalName&gt;</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;property
	in the pom.file. Remember?</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Any
	configurations below this property pertains to the demo.war
	deployment, i.e:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.deployment.demo.war.web.login-config.auth-method</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	Specifies the method used to authenticate the user.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.deployment.demo.war.web.security-constraints</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	Defines the access privileges to a URL pattern. I have defined that
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;URI
	can only be accessed by an authenticated person in the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>user</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;role:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">- url-pattern: /hello</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp;   <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">roles:</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp;   <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">- </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;user&quot;</span></span></font></font></font></span></span></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">A
	standard&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>web.xml</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;for
	the same configuration might look like:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;security-constraint&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">  <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;web-resource-collection&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">    <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;web-resource-name&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">SecureArea</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/web-resource-name&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;url-pattern&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">/hello/*</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/url-pattern&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">  <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/web-resource-collection&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">  <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;auth-constraint&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">    <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;role-name&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">user</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/role-name&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">  <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/auth-constraint&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/security-constraint&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;login-config&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">  <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;auth-method&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">KEYCLOAK</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/auth-method&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/login-config&gt;</span></span></font></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">NOTE:
	&quot;KEYCLOAK&quot; authentication mechanism is not a standard&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm#JEETT01226" target="_blank">Java
	EE authentication mechanism</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	However it is made available through the Thorntail keycloak
	fraction.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Configure
	Keycloak security</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	last step in applying Keycloak security functionalities to our
	Thorntail application is to configure it using
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.KEY</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;properties
	which maps the security configuration by deployment . Here, KEY
	refers to the deployment which is&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo.war</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>finalName</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	our Thorntail application.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.auth-server-url</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) The base URL of the running Keycloak server plus the
	authentication endpoint, i.e.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080/auth</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.realm</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;realm
	we have created in Keycloak.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.resource</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) This is the client Id (application) we have configured in
	Keycloak, i.e.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>my-app</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.public-client</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(optional) Prevents the application from sending credentials to the
	Keycloak server (</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>true</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;is
	the default value). You want to set it to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>false</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;whenever
	you use&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>confidential</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;clients
	instead of public.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.ssl-required</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(optional) Establishes if communications with the Keycloak server
	must happen over HTTPS. Here, it&rsquo;s just required for external
	requests (default value), but in production, you should set it
	to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>all</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;(valid
	values are&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>all</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>external</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>none</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">).</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>thorntail.keycloak.secure-deployments.demo.war.principal-attribute:&nbsp;</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">(Extra
	optional)</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><strong>&nbsp;</span></span></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">This
	is an extra property that allows retrieving the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>username</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	the currently logged in user from the Principal object in the
	SecurityContext. I&rsquo;m going to use that to show the username in
	the response from the HelloWorld rest service (the default value is
	the UUID for the logged in user if this property is not specified).</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Testing
	the Secure Endpoint</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">First
	make sure the local instance of Keycloak is running and available at
	http://localhost:8080. Then we start the Thorntail application the
	same way as before:</span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a terminal in that directory and run&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>mvn
		thorntail:run</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a web browser and navigate to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;</span></span></span></span></span></font></font></span></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">We
		are presented with the default login view provided by Keycloak:</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_591539f9c6a37706.png" name="Image12" align="bottom" width="522" height="486" border="0"/>
</span></span></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Enter
		the username:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>metalgear</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
		the password:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>p@ssw0rd</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Click
		the Log In button</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Check
		the output message:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>Hello
		metalgear, from a secure Thorntail!</span></span></b></span></span></font></font></span></strong></p>
	</ol>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Conclusion</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">I
	just show you one way to create and secure a microservice with
	Thorntail and Keycloak. We saw how easy it is to great a Thorntail
	application and then secure it using Keycloak security
	configurations.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">With
	the work done so far it is possible to extend your microservice with
	more functionalities like CDI, JPA ,etc.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">You
	can check out the full&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/thorntail-keycloak-helloworld" target="_blank">source
	code</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	the demo project on GitHub.</span></span></span></span></span></font></font></span></p>
</div>
<h1 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 120%; background: transparent">
<b>Securing Spring Boot Microservices with Keycloak - Part 3</b></h1>
<ul>
	<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 142%; background: transparent">
	<font size="1" style="font-size: 8pt">Published on December 11, 2018</font></p>
</ul>
<div id="Section13" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember541"></a>
	<br/>

	</p>
	<div id="Section14" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember551"></a>
		<br/>

		</p>
		<div id="Section15" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember561"></a><a name="ember572"></a>
			<br/>

			</p>
			<div id="Section16" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember581"></a>
				<br/>

				</p>
				<div id="Section17" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember591"></a><a name="ember602"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">
  <font color="#000000">
    <img src="documentation_html_6cdce1ce9eb807bd.gif" name="Image13" alt="Jannie Louwrens" align="bottom" width="49" height="49" border="2"/>
  </font>
</a>
</span></p>
				</div>
			</div>
		</div>
		<div id="Section18" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal"><a name="ember621"></a>
			<br/>

			</p>
			<div id="Section19" dir="ltr" style="background: transparent"><h2 class="western" style="margin-right: 0.17cm; margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 150%; background: transparent"><a name="ember631"></a><a name="ember642"></a>
				<span style="display: inline-block; border: none; padding: 0cm"><font color="#665ed0"><span style="text-decoration: none"><font face="var artdeco-typography-sans"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">Jannie
				Louwrens</span></span></b></font></font></span></font></a></h2>
			</div>
			<div id="Section20" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 142%"><a name="ember651"></a>
				<br/>

				</p>
				<div id="Section21" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; line-height: 142%"><a name="ember661"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><font size="1" style="font-size: 8pt">Java
					Developer</span></span></font></p>
				</div>
			</div>
		</div>
	</div>
	<p style="margin-bottom: 0cm"><a name="ember1012"></a><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#0073b1"><span style="text-decoration: none"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="1" style="font-size: 8pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/detail/recent-activity/posts/">6
	articles&nbsp;</span></b></span></span></font></font></span></font></span></a><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Follow</span></span></span></span></span></font></font></span></p>
</div>
<div id="Section22" dir="ltr" style="background: #ffffff"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember691"></a>
	<br/>

	</p>
	<div id="Section23" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember701"></a>
		<br/>

		</p>
	</div>
</div>
<div id="Section24" dir="ltr" style="background: #ffffff"><h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent"><a name="ember711"></a>
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Overview</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Most
	developers understand microservice architecture to design
	applications as independent collaborating services. And one of the
	more popular frameworks to build such services is&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="http://spring.io/projects/spring-boot" target="_blank">Spring
	Boot</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	In this post we&rsquo;ll learn how to create a&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="http://spring.io/projects/spring-boot" target="_blank">Spring
	Boot</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;application
	and then securing it using&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/" target="_blank">Keycloak</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Background</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">In&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-1-jannie-louwrens/" target="_blank">part
	1</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	the series on securing Java rest services with Keycloak we&rsquo;ve
	learned what Keycloak is and also how to install and configure a
	local instance of Keycloak.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-2-jannie-louwrens/" target="_blank">Part
	2</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;was
	about securing an application created with Thorntail using Keycloak.</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">What
	is Spring Boot?</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.oreilly.com/library/view/microservices-for-java/9781492042228/" target="_blank">Microservices
	for Java Developers</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;by
	Christian Posta describes it as:</span></span></span></span></span></font></font></span></p>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">Spring
	Boot is an opinionated Java framework for building microservices
	based on the Spring dependency injection framework. Spring Boot
	allows developers to create microservices through reduced
	boilerplate, configuration, and developer friction.</span></span></i></font></font></blockquote>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Getting
	Started</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">We&rsquo;ll
	start by creating a real simple Spring Boot application. A good
	starting point is to navigate to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://start.spring.io/" target="_blank">Spring
	Initializr</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_fca0667e91778b2.png" name="Image14" align="bottom" width="744" height="401" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">(</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>NOTE:
	for this tutorial I was using&nbsp;</span></span></i></span></font></font></span></em><em><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>Spring
	Boot 2.0.7</span></b></i></span></font></font></span></em></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">)</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Enter
	the following values:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Group Id: com.example.demo</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Artifact ID: helloworld</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">Dependencies: Web</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">...and
	click on the Generate Project button.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Unzip
	the helloworld.zip file in any directory of your choice and then
	import the maven project into your favorite IDE.</span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">What&rsquo;s
	Inside the Default Project?</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Right
	now the application consists of just one java class:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>HelloworldApplication.java</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">This
	is the main entry point into our application.
	The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>@SpringBootApplication</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;is
	a convenient annotation triggers auto-configuration and component
	scanning, i.e. during bootstrapping it loads all the other Spring
	components and beans.</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#0073b1">@SpringBootApplication</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">class</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">HelloworldApplication</font></font><font size="1" style="font-size: 7pt"> </font>{</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">public</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">static</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">void</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">main</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">(String[] args) </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">SpringApplication.run(HelloworldApplication.class, args);</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Next
	we will add rest functionality to the app.</span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">The
	Rest Service</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">The
	controller is a really simple rest service exposing just one
	endpoint:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#0073b1">@RestController</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">class</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">HelloworldController</font></font><font size="1" style="font-size: 7pt"> </font>{</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@GetMapping</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">(</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;/hello&quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">)</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">public</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> String </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">sayHello</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">(Principal principal) </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">return</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;Hello from Spring Boot!&quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">;</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>@RestController</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;annotation
	is a convenience annotation that combines @Controller and
	@ResponseBody &ndash; which eliminates the need to annotate every
	request handling method of the controller class with the
	@ResponseBody annotation.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>@GetMapping</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;is
	used to handle GET type of HTTP request method.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Testing
	the Helloworld Application</span></span></b></font></font></h3>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a terminal in the directory where you have unzipped
		the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>helloworld.zip</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;file
		and run&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>mvn
		package spring-boot:run</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a web browser and navigate to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
		check the output message:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>Hello
		from Spring Boot!</span></span></b></span></span></font></font></span></strong></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Congratulations!
		You have created a microservice with Spring Boot.</span></span></font></font></p>
	</ol>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Securing
	the Application</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Let
	us start adding the Keycloak security functionalities to the
	application. The goal is to make the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;rest
	endpoint secure so that only authorised users can access it. To be
	able to secure Spring Boot apps you must add the Keycloak Spring
	Boot adapter JAR to your app. You then have to provide some extra
	configuration via normal Spring Boot configuration.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Update
	the Maven Pom File</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">The
	first thing we do is to bring Keycloak integration to our
	application by adding the Keycloak dependency to the maven pom file:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;dependency&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">org.keycloak</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloak-spring-boot-starter</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/dependency&gt;</span></span></font></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">...
	and also include the keycloak bom because we also need some other
	dependencies to make it work:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;dependencyManagement&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">org.keycloak.bom</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloak-adapter-bom</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;version&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">4.6.0.Final</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/version&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;type&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">pom</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/type&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;scope&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">import</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/scope&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependency&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/dependencies&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/dependencyManagement&gt;</span></span></font></font></font></pre><h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Application
	Resources</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	next step in securing the application is to define the Keycloak
	security properties in
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/src/main/resources/application.properties</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">server.port=<font color="#17afb8"><font size="1" style="font-size: 7pt">8081</font></font></span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.auth-server-url=http:<font color="#9b9ea2"><font size="1" style="font-size: 7pt"><i>//localhost:8080/auth</i></font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.realm=demo</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.resource=my-app</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.<font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font>-client=<font color="#17afb8"><font size="1" style="font-size: 7pt">true</font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.principal-attribute=preferred_username</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].authRoles[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=user</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=/hello<font color="#9b9ea2"><font size="1" style="font-size: 7pt"><i>/*</i></font></font></span></span></font></font></pre><h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Explanation
	of the Properties</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">By
	default a Spring Boot application will run on port 8080, but since
	our local instance of Keycloak is already using that port we can
	override the default value by specifying:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>server.port=8081</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.auth-server-url</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) The base URL of the running Keycloak server plus the
	authentication endpoint, i.e.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080/auth</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.realm</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) The demo realm we have created in Keycloak.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.resource</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(required) This is the client Id (application) we have configured in
	Keycloak, i.e.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>my-app</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.public-client</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(optional) Prevents the application from sending credentials to
	the&nbsp;keycloak server (</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>true</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;is
	the default value). You want to set it to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>false</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;whenever
	you use confidential clients instead of public.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.principal-attribute=preferred_username</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	(Extra optional) This is an extra property that allows retrieving
	the username of the currently logged in user from the Principal
	object in the SecurityContext. I&rsquo;m going to use that to show
	the username in the response from the HelloWorld rest service (the
	default value is the UUID for the logged in user if this property is
	not specified).</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	Keycloak Spring Boot adapter takes advantage of Spring Boot&rsquo;s
	autoconfiguration and will set the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>login-method</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>KEYCLOAK</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	configure the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>security-constraints</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;at
	startup time. The next properties add access policies based on user
	roles:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.security-constraints[0].authRoles[0]=user</span></span></b></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloak.security-constraints[0].securityCollections[0].patterns[0]=/hello/*</span></span></b></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Here,
	we simply define that every request to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/hello/*</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;should
	be done with an authenticated user and that this user should be
	in&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>user</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;the
	role.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Testing
	the Secure Endpoint</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">First
	make sure the local instance of Keycloak is running and available
	at&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	Then we start the Spring Boot application the same way as before:</span></span></span></span></span></font></font></span></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a terminal in that directory and run&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>mvn
		package spring-boot:run</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
		a web browser and navigate to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/hello</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">We
		are presented with the default login view provided by Keycloak:</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_591539f9c6a37706.png" name="Image15" align="bottom" width="522" height="486" border="0"/>
</span></span></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Enter
		the username:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>metalgear</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
		the password:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>p@ssw0rd</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Click
		the Log In button</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Check
		the output message:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>Hello
		metalgear, from a secure Spring Boot!</span></span></b></span></span></font></font></span></strong></p>
	</ol>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Adding
	Spring Security support</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">If
	you&rsquo;re a Spring user then I suppose the obvious choice for
	adding security support to your application would be&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://spring.io/projects/spring-security" target="_blank">Spring
	Security</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">Spring
	Security is a powerful and highly customizable authentication and
	access-control framework. It is the de-facto standard for securing
	Spring-based applications.</span></span></i></font></font></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">There
	is a Keycloak Spring Security Adapter which is already included in
	the Spring Boot Keycloak Starter dependency. So next we&rsquo;ll see
	how we can leverage Spring Security together with Keycloak.</span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Adding
	Spring Security Starter Dependency</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">In
	order to use Spring Security with Spring Boot we need to add the
	Spring Security libraries:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;dependency&gt;</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp;<font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;groupId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">org.springframework.boot</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/groupId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp;<font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;artifactId&gt;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">spring-boot-starter-security</span></span></font></font><font color="#469a1f"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;/artifactId&gt;</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#469a1f">&lt;/dependency&gt;</span></span></font></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">A
	configuration class extending WebSecurityConfigurerAdapter is needed
	for any application secured by Spring Security and Keycloak provides
	a KeycloakWebSecurityConfigurerAdapter as a convenient base class
	which you can again subclass:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#0073b1">@KeycloakConfiguration</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">class</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">SecurityConfig</font></font><font size="1" style="font-size: 7pt"> </font><font color="#17afb8"><font size="1" style="font-size: 7pt">extends</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">KeycloakWebSecurityConfigurerAdapter</font></font><font size="1" style="font-size: 7pt"> </font>{</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@Autowired</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">public</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">void</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">configureGlobal</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">(AuthenticationManagerBuilder auth) </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">throws</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> Exception </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(</span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">new</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> SimpleAuthorityMapper());</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">auth.authenticationProvider(keycloakAuthenticationProvider);</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@Bean</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">public</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> KeycloakSpringBootConfigResolver </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">keycloakConfigResolver</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">() </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">return</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">new</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> KeycloakSpringBootConfigResolver();</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@Bean</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@Override</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">protected</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> SessionAuthenticationStrategy </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">sessionAuthenticationStrategy</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">() </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">                <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">return</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">new</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> RegisterSessionAuthenticationStrategy(</span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">new</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> SessionRegistryImpl());</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">        <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp;</span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#0073b1"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">@Override</span></span></font></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">protected</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">void</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#900021"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">configure</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">(HttpSecurity http) </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">throws</span></span></font></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal"> Exception </span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">super</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.configure(http);</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">http.authorizeRequests()</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.antMatchers(</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;/hello*&quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">)</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.hasRole(</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;user&quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">)</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.anyRequest()</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.permitAll();</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp; <font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>
<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent">&nbsp; &nbsp;</span></span>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Let&rsquo;s
	have a closer look at the most important methods:</span></span></font></font></p>
	<ul type="disc">
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>configureGlobal()</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
		Here we change the Granted Authority Mapper, by default in Spring
		Security, roles are prefixed with ROLE_, we could change that in
		our Realm configuration but it could be confusing for other
		applications that do not know this convention, so here we assign
		a&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>SimpleAuthorityMapper</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;that
		will make sure no prefix is added.</span></span></span></span></span></font></font></span></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>keycloakConfigResolver()</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
		By default, the Keycloak Spring Security Adapter will look up for a
		file named&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>keycloak.json</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;present
		on your classpath. But here we define that we want to use the
		Spring Boot properties file support instead.</span></span></span></span></span></font></font></span></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>configure()</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
		This is where we define our security constraints, pretty simple to
		understand we secure the path&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>/hello</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;with
		role&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>user</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	</ul>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Now
	we can remove the security constraints that we had defined
	previously in our application.properties file:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">server.port=<font color="#17afb8"><font size="1" style="font-size: 7pt">8081</font></font></span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.auth-server-url=http:<font color="#9b9ea2"><font size="1" style="font-size: 7pt"><i>//localhost:8080/auth</i></font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.realm=demo</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.resource=my-app</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.<font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font>-client=<font color="#17afb8"><font size="1" style="font-size: 7pt">true</font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.principal-attribute=preferred_username</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#0073b1">#keycloak.security-constraints[0].authRoles[0]=user</span></span></font></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="background: transparent"><font color="#0073b1">#keycloak.security-constraints[0].securityCollections[0].patterns[0]=/hello/*</span></span></font></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>NOTE</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:
	the security-constraint properties are commented out. Or you may
	delete them completely from the file.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Restart
	your app, authenticate again, it should still work:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_90fda488ae15a657.png" name="Image16" align="bottom" width="744" height="65" border="0"/>
</span></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Conclusion</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">I
	just show in this article how easy it is to create a simple Spring
	Boot application and then secure it it in conjunction with Keycloak,
	first by using Java EE security constraints and then by integrating
	Spring Security.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">You
	can check out the full&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/spring-boot-keycloak-helloworld" target="_blank">source
	code</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	the demo project on GitHub.</span></span></span></span></span></font></font></span></p>
</div>
<h1 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 120%; background: transparent">
<b>Securing Java Rest Services with Keycloak - Part 4</b></h1>
<ul>
	<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-weight: normal; line-height: 142%; background: transparent">
	<font size="1" style="font-size: 8pt">Published on January 30, 2019</font></p>
</ul>
<div id="Section25" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember542"></a>
	<br/>

	</p>
	<div id="Section26" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember552"></a>
		<br/>

		</p>
		<div id="Section27" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm"><a name="ember562"></a><a name="ember573"></a>
			<br/>

			</p>
			<div id="Section28" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember582"></a>
				<br/>

				</p>
				<div id="Section29" dir="ltr" style="background: transparent"><p style="margin-left: 0.17cm; margin-bottom: 0cm"><a name="ember592"></a><a name="ember603"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">
  <font color="#000000">
    <img src="documentation_html_6cdce1ce9eb807bd.gif" name="Image17" alt="Jannie Louwrens" align="bottom" width="49" height="49" border="2"/>
  </font>
</a>
</span></p>
				</div>
			</div>
		</div>
		<div id="Section30" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal"><a name="ember622"></a>
			<br/>

			</p>
			<div id="Section31" dir="ltr" style="background: transparent"><h2 class="western" style="margin-right: 0.17cm; margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; line-height: 150%; background: transparent"><a name="ember632"></a><a name="ember643"></a>
				<span style="display: inline-block; border: none; padding: 0cm"><font color="#665ed0"><span style="text-decoration: none"><font face="var artdeco-typography-sans"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/">Jannie
				Louwrens</span></span></b></font></font></span></font></a></h2>
			</div>
			<div id="Section32" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 142%"><a name="ember652"></a>
				<br/>

				</p>
				<div id="Section33" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; line-height: 142%"><a name="ember662"></a>
					<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><font size="1" style="font-size: 8pt">Java
					Developer</span></span></font></p>
				</div>
			</div>
		</div>
	</div>
	<p style="margin-bottom: 0cm"><a name="ember1013"></a><span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font color="#0073b1"><span style="text-decoration: none"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="1" style="font-size: 8pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><a href="https://www.linkedin.com/in/jannie-louwrens-86b46a122/detail/recent-activity/posts/">6
	articles&nbsp;</span></b></span></span></font></font></span></font></span></a><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Follow</span></span></span></span></span></font></font></span></p>
</div>
<div id="Section34" dir="ltr" style="background: #ffffff"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember692"></a>
	<br/>

	</p>
	<div id="Section35" dir="ltr" style="background: transparent"><p style="margin-bottom: 0cm; orphans: 2; widows: 2"><a name="ember702"></a>
		<br/>

		</p>
	</div>
</div>
<div id="Section36" dir="ltr" style="background: #ffffff"><h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent"><a name="ember712"></a>
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Overview</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">In
	this article we will build an Angular application and Spring Boot
	Java Rest API and then secure everything using Keycloak.</span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Background</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">We
	have learned what is&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/" target="_blank">Keycloak</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-1-jannie-louwrens/" target="_blank">how
	to configure it</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	We have also seen how easy it is to secure&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-java-rest-services-keycloak-part-2-jannie-louwrens/" target="_blank">Thorntail</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-spring-boot-microservices-keycloak-part-3-jannie-louwrens/" target="_blank">Spring
	Boot</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;Java
	rest services using Keycloak. This article is about applying that
	knowledge and build a complete application, something which is more
	than just a simple Helloworld example.</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Introduction</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">We
	are going to build an online grocery shop where a customer can
	login, select a product catalogue and place an order for the
	product. It will also have functions that will allow an
	administrator to add more products, view customer orders and such.
	All of this will be protected by Keycloak.</span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">TL;DR</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	source code for the application can be downloaded from
	GitHub:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/spring-boot-keycloak-angular" target="_blank">Grocery
	Shop</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	Follow the instructions in the README.md file to setup the
	environment and to compile and run the source code.</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Requirements</span></span></b></font></font></h2>
	<ul type="disc">
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Keycloak
		4.6.0.Final</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Java
		8</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Spring
		Boot 2.0.7.RELEASE</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Angular
		7.1.4</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Node.js
		10.15.0</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Yarn
		1.12.3</span></span></font></font></p>
	</ul>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Some
	knowledge of these technologies is assumed, but I do hope the code
	and instructions are simple and easy enough to follow along.</span></span></font></font></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">User,
	Roles and Permissions</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Our
	Keycloak instance is the system of record for the users in our
	applications which are also the customers of the online grocery
	shop. There are two roles;&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>USER</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	A person with an&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>USER</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;role
	can login to his own account to place orders. An&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;has
	more privileges like viewing the profile of other users or customers
	or see how many orders a specific customer has in his shopping cart.
	The administrator is also the only person who maintains the Products
	in the system.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Configuring
	Keycloak</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Download
	the standalone server distribution from the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/" target="_blank">Keycloak
	website</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,
	unpack it and start the server. Follow the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/getting_started/index.html#creating-the-admin-account" target="_blank">Getting
	Started</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;instructions
	to setup the administrator account.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">There
	are two ways to configure the Keycloak realm for the Grocery Shop
	application:</span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Import
		the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/spring-boot-keycloak-angular/blob/master/keycloak/demo-realm.json" target="_blank">demo-realm.json</span></span></span></span></span></font></font></span></font></span></a></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Follow
		the Create Realm, Client and Users guide</span></span></font></font></p>
	</ol>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">1.
	Import the demo-realm.json</span></span></b></font></font></h3>
	<p style="margin-right: 0.68cm; margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_6b181e6154a3244c.png" name="Image18" align="bottom" width="910" height="767" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Once
	the Keycloak server is started navigate
	to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080/auth/admin</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	enter the administrator username and password. Then select
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Demo</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;realm
	and click on the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Import</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;link
	in the navigation bar on the left side of the page. Finally click
	the &quot;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Select
	file</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&quot;
	button to upload the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/spring-boot-keycloak-angular/blob/master/keycloak/demo-realm.json" target="_blank">demo-realm.json</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">2.
	Follow the Create Realm, Client and Users guide</span></span></b></font></font></h3>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">This
	section is only for those who wish to manually configure the
	Keycloak server.</span></span></i></font></font></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>Create
	a realm</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Follow
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/getting_started/index.html#_create-realm" target="_blank">create
	a realm</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;instructions
	and create a realm called:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>Create
	a client</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Follow
	steps 1- 3 of the creating and registering guide and create a new
	client called:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>my-app</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">In
	the Valid Redirect URIs field enter the two
	URLs:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/*</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:4200/*</span></span></span></i></span></font></font></span></em></p>
	<blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">Notice
	the asterisk (*) after the urls!</span></span></i></font></font></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">And
	in the Web Origins fields simply add a * (asterisk)</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>Create
	roles and assign permissions</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">In
	the Keycloak administration console create two new roles,
	named:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>user</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>admin.</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;Edit
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>admin</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;role
	and enable the&nbsp;</span></span></span></span></font></font></span><em><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>Composite
	Roles</span></b></i></span></font></font></span></em></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;flag
	and choose&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>realm-management</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;from
	the&nbsp;</span></span></span></span></font></font></span><em><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>Client
	Roles</span></b></i></span></font></font></span></em></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;drop
	list. Highlight the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>view-users</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;option
	in the&nbsp;</span></span></span></span></font></font></span><em><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>Available
	Roles</span></b></i></span></font></font></span></em></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;block
	and then click on the &quot;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Add
	selected</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&quot;
	button.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>Create
	the following users:</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_f66b7f38c37d6a7a.png" name="Image19" align="bottom" width="744" height="192" border="0"/>
</span></span></p>
	<blockquote style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="4" style="font-size: 14pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>It
	is most important that you enter the username as provided in the
	table, because they are used in the Spring backend to link the
	customer orders with the user.</span></span></b></i></span></font></font></span></strong></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><u><b><span style="background: transparent"><strong>Login
	to Keycloak account</span></span></b></u></span></span></font></font></span></strong></p>
	<p style="margin-left: 0.68cm; margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_18031d4349849af1.png" name="Image20" align="bottom" width="791" height="658" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">You
	can now try to login to any of the user's account by navigating
	to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8080/auth/realms/demo/account</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,
	e.g.&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>grilldad</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<br/>

	</p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Java
	Services</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">There
	is nothing special about the Java services. I tried to keep it
	simple so that we can rather focus on the security aspects of the
	system. There are four services:</span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">ProductCatalogService
		- access the product catalogues</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">ProductService
		- access/maintain the products</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">OrderService
		- keep track of customer orders</span></span></font></font></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font size="3" style="font-size: 12pt"><span style="background: transparent"><font face="Source Serif Pro, serif">CustomerService
		- accessing customer data</span></span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	first three services are backed by the H2 in-memory database and
	upon application server startup the database is seeded with some
	sample data. Which means the data is wiped and the database is
	recreated on every server restart. The H2 database comes with a web
	console to view the data in the database and it is accessed by
	navigating to&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:8081/shop/h2-console</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.
	On the login screen leave default settings and just click on the
	Connect button:</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_cbd9580e8a57a1ca.png" name="Image21" align="bottom" width="744" height="598" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	CustomerService uses the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs-api/4.8/rest-api/index.html" target="_blank">Keycloak
	Admin Rest API</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;to
	access user profiles on Keycloak and return the data to the client
	as CustomerInfo objects. Only an&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;user
	has access to this service.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">All
	the services are accessed via rest URIs. But the important part of
	the backend services is the Keycloak configuration in
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>application.properties</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;file,
	which is similar to what was explained in&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.linkedin.com/pulse/securing-spring-boot-microservices-keycloak-part-3-jannie-louwrens/" target="_blank">the
	application resources section of the previous article</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.auth-server-url=http:<font color="#9b9ea2"><font size="1" style="font-size: 7pt"><i>//localhost:8080/auth</i></font></font></span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.realm=demo</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.resource=my-app</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.<font color="#17afb8"><font size="1" style="font-size: 7pt">public</font></font>-client=<font color="#17afb8"><font size="1" style="font-size: 7pt">true</font></font></span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.bearer-only = <font color="#17afb8"><font size="1" style="font-size: 7pt">true</font></font></span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Where&nbsp;</span></span></span></span></font></font></span><em><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><b><span style="background: transparent"><strong>keycloak.bearer-only
	= true</span></b></i></span></font></font></span></em></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;is
	new. It tells Keycloak that the client never initiates a login
	process, but when it receives a Bearer token, then it will check the
	validity of said token. The client in this case is our Spring Boot
	Java services. Every time the Java rest URIs are called the caller
	must provide a valid security token in the HTTP request headers.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Instead
	of using&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://spring.io/projects/spring-security" target="_blank">Spring
	Security</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;I
	decided I want to use the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm" target="_blank">Java
	EE security config</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;that
	would normally go in the web.xml:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].authRoles[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=user</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].authRoles[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>]=admin</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=GET</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/products/</span></font></font>*</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/productcatalogs/</span></font></font>*</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=GET</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>]=POST</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">2</font></font>]=PUT</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/orders/</span></font></font>*</span></span></font></font>


<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].authRoles[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=admin</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/customers/</span></font></font>*</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=POST</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].methods[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>]=PUT</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">0</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/products/</span></font></font>*</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.security-constraints[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].securityCollections[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>].patterns[<font color="#17afb8"><font size="1" style="font-size: 7pt">1</font></font>]=<font color="#890060"><font size="1" style="font-size: 7pt"><span style="background: #ffdff6">/api/productcatalogs/</span></font></font>*</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter" target="_blank">Spring
	Boot Adapter</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;will
	set the login-method to KEYCLOAK and configure the
	security-constraints at startup time.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">In
	short we have restricted access to the Java API to authenticated
	users with the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>USER</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and/or&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;roles.
	Both the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>USER</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;roles
	have read access to
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>productcatalog</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">,&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>product</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>order</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;API&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>plus</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;create
	and update access to the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>order</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;API.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">But&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>only</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>ADMIN</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;role
	has access to the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>customers</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;API
	and create and update access to the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>productcatalog</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>product</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;API.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Finally
	when you&rsquo;re trying to connect a JavaScript UI like Angular to
	a backend which is secured by Keycloak you have to be aware of CORS.
	So we have to enable CORS explicitly for Keycloak:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">keycloak.cors = <font color="#17afb8"><font size="1" style="font-size: 7pt">true</font></font></span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Without
	this the UI won&rsquo;t be able to connect to the Java rest API.</span></span></font></font></p>
	<h3 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 140%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Testing
	the Secured Rest API</span></span></b></font></font></h3>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Start
	the Spring Boot application server by opening a terminal and
	executing the command:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">mvn clean package spring-boot:run</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><u><span style="background: transparent"><font face="Source Serif Pro, serif">Open
	another terminal to execute the next cURL commands:</span></span></u></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Let
	us first try to invoke the Java Rest API without obtaining an access
	token:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">curl <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;http://localhost:8081/shop/api/productcatalogs&quot;</font></font></span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">...and
	here is the result:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font size="1" style="font-size: 7pt">&quot;timestamp&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;2019-01-30T20:43:03.723+0000&quot;</font></font>,</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font size="1" style="font-size: 7pt">&quot;status&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">401</font></font>,</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font size="1" style="font-size: 7pt">&quot;error&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Unauthorized&quot;</font></font>,</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font size="1" style="font-size: 7pt">&quot;message&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;No message available&quot;</font></font>,</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font size="1" style="font-size: 7pt">&quot;path&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;/shop/api/productcatalogs&quot;</font></font></span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Now
	obtain an access token for an user in the realm&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>demo</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;with
	username&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>spacehunter</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;and
	password&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>password</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">curl <font size="1" style="font-size: 7pt">-d</font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;client_id=my-app&quot;</font></font> <font size="1" style="font-size: 7pt">-d</font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;username=spacehunter&quot;</font></font> <font size="1" style="font-size: 7pt">-d</font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;password=password&quot;</font></font> <font size="1" style="font-size: 7pt">-d</font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;grant_type=password&quot;</font></font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;http://localhost:8080/auth/realms/demo/protocol/openid-connect/token&quot;</font></font></span></span></font></font></pre><blockquote style="margin-bottom: 2.54cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-weight: normal; line-height: 360%; text-align: center; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><i><span style="background: transparent"><font face="Georgia, Source Serif Pro, serif">By
	default this token expires in 1 minute</span></span></i></font></font></blockquote>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">The
	result is a JSON document similar to:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;access_token&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJQNEpQUFR4WTJ3SWJha001Z29UYVVmZlN0VWN4S2p4dkpJSzNfSlZ5Z0pNIn0.eyJqdGkiOiIyY2JlNjc5OS02NjcyLTQ4MmYtYjI0YS00ZThjMzZlYTkyZmQiLCJleHAiOjE1NDg4ODA1NjEsIm5iZiI6MCwiaWF0IjoxNTQ4ODgwMjYxLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9yZWFsbXMvZGVtbyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiI4NjdlMDQxYi05Njc3LTRhZWQtODJiMS02ZjE2YjE1OWE4NjIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJteS1hcHAiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJiYmMzOTU4My02ZDNkLTQxY2QtYjRjMi00ZmJmNzE1NjExMWMiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJ1c2VyIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiVmljdG9yIEJyb3duIiwicHJlZmVycmVkX3VzZXJuYW1lIjoic3BhY2VodW50ZXIiLCJnaXZlbl9uYW1lIjoiVmljdG9yIiwiZmFtaWx5X25hbWUiOiJCcm93biIsImVtYWlsIjoidmljdG9yLmJyb3duQGV4YW1wbGUuY29tIn0.JjmW_LomBO2mrf5idpS1zCDegslK_VA_spjtpUsQdfcEHnMJ75kGu58s8FmFaHiH0a3OtrG4xsoW_-qQ2zEnCcyMDI-i1fZMqYB5srM91aYk4Np1ZcRVcRS-o3Fmo4mDTvL5l3sevPNDm0GCycHI_HuhX5tcHfYumD0d-DXLpyooM2A7Yf0A1lenbZsjJrqriC7cnVmZb7cRgZHvSByNpR7XTArfXw-DfnmVrGQoLopbxm7kUDcGQhRpTa_DyvlFRlcpRf2hRoMmTX644F_fsWynhyfjlsnb3juPjcD2RxMywpiR2VmeXM7b9RaQe-nQDJPeO6aWytojEtTblptrJw&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;expires_in&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">300</font></font>,<font size="1" style="font-size: 7pt">&quot;refresh_expires_in&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">1800</font></font>,<font size="1" style="font-size: 7pt">&quot;refresh_token&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkODViYjU0YS0zYzQ3LTRiNjktOTQ5ZC1lMmJiNjExMzhkMDcifQ.eyJqdGkiOiJmN2UwZWQwYi04OWFhLTQwMjgtOGRiZi01OGFhNmU4NmQxMTEiLCJleHAiOjE1NDg4ODIwNjEsIm5iZiI6MCwiaWF0IjoxNTQ4ODgwMjYxLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9yZWFsbXMvZGVtbyIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hdXRoL3JlYWxtcy9kZW1vIiwic3ViIjoiODY3ZTA0MWItOTY3Ny00YWVkLTgyYjEtNmYxNmIxNTlhODYyIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6Im15LWFwcCIsImF1dGhfdGltZSI6MCwic2Vzc2lvbl9zdGF0ZSI6ImJiYzM5NTgzLTZkM2QtNDFjZC1iNGMyLTRmYmY3MTU2MTExYyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwidXNlciJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSJ9.ybXAHOJNAJvaUF-BLHlioPblt0xG-YRCbuSsVcsI6_8&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;token_type&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;bearer&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;not-before-policy&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">1548519881</font></font>,<font size="1" style="font-size: 7pt">&quot;session_state&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;bbc39583-6d3d-41cd-b4c2-4fbf7156111c&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;scope&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;email profile&quot;</font></font>}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">You
	need to extract the value of the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>access_token</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;property
	because we are going to need it to invoke the Java Rest API. You
	invoke the API by including the value in the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Authorization
	header</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;of
	requests to the API. e.g. let us get a list of all the Product
	Catalogues:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">curl -H <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Authorization: bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJQNEpQUFR4WTJ3SWJha001Z29UYVVmZlN0VWN4S2p4dkpJSzNfSlZ5Z0pNIn0.eyJqdGkiOiIyY2JlNjc5OS02NjcyLTQ4MmYtYjI0YS00ZThjMzZlYTkyZmQiLCJleHAiOjE1NDg4ODA1NjEsIm5iZiI6MCwiaWF0IjoxNTQ4ODgwMjYxLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9yZWFsbXMvZGVtbyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiI4NjdlMDQxYi05Njc3LTRhZWQtODJiMS02ZjE2YjE1OWE4NjIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJteS1hcHAiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJiYmMzOTU4My02ZDNkLTQxY2QtYjRjMi00ZmJmNzE1NjExMWMiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJ1c2VyIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiVmljdG9yIEJyb3duIiwicHJlZmVycmVkX3VzZXJuYW1lIjoic3BhY2VodW50ZXIiLCJnaXZlbl9uYW1lIjoiVmljdG9yIiwiZmFtaWx5X25hbWUiOiJCcm93biIsImVtYWlsIjoidmljdG9yLmJyb3duQGV4YW1wbGUuY29tIn0.JjmW_LomBO2mrf5idpS1zCDegslK_VA_spjtpUsQdfcEHnMJ75kGu58s8FmFaHiH0a3OtrG4xsoW_-qQ2zEnCcyMDI-i1fZMqYB5srM91aYk4Np1ZcRVcRS-o3Fmo4mDTvL5l3sevPNDm0GCycHI_HuhX5tcHfYumD0d-DXLpyooM2A7Yf0A1lenbZsjJrqriC7cnVmZb7cRgZHvSByNpR7XTArfXw-DfnmVrGQoLopbxm7kUDcGQhRpTa_DyvlFRlcpRf2hRoMmTX644F_fsWynhyfjlsnb3juPjcD2RxMywpiR2VmeXM7b9RaQe-nQDJPeO6aWytojEtTblptrJw&quot;</font></font> <font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;http://localhost:8081/shop/api/productcatalogs&quot;</font></font></span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">And
	the results are:</span></span></font></font></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">[</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;id&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;a70a0447-9a7d-4b64-9890-b5616c1f309c&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;name&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Bakery&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;description&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">null</font></font>},</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;id&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;75c36466-aeb2-445f-b3f0-be8b25f30db3&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;name&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Dairy&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;description&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">null</font></font>},</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;id&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;94a0e5bb-373d-4288-8832-768b4b5319cb&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;name&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Butchery&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;description&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">null</font></font>},</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;id&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;99edf5d9-7dea-4e94-87a4-43f869aa3c38&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;name&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Fruit &amp; Vegetables&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;description&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">null</font></font>},</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">{<font size="1" style="font-size: 7pt">&quot;id&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;b678d1e6-488c-45d5-a113-0077b60aa67b&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;name&quot;</font>:<font color="#e61e89"><font size="1" style="font-size: 7pt">&quot;Household&quot;</font></font>,<font size="1" style="font-size: 7pt">&quot;description&quot;</font>:<font color="#17afb8"><font size="1" style="font-size: 7pt">null</font></font>}</span></span></font></font>
<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">]</span></span></font></font></pre><h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Angular
	UI</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Keycloak
	comes with a client-side&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter" target="_blank">JavaScript
	library</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;that
	can be used to secure the Angular application. I will be using
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://www.npmjs.com/package/keycloak-angular" target="_blank">Keycloak
	Angular</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;library
	which basically wraps the keycloak.js methods and makes it easier to
	be consumed by Angular applications. This library also provides a
	HttpClient interceptor that adds the authorisation header to all
	HttpClient requests.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Using&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://angular.io/guide/build#configuring-application-environments" target="_blank">Angular
	Application Environments</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;we
	configure the properties for the keycloak server url, realm and
	client inside the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>environment.ts</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;file
	(just like we did with the Spring Boot application.properties).</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">import</font></font> { KeycloakConfig } <font color="#17afb8"><font size="1" style="font-size: 7pt">from</font></font> <font color="#e61e89"><font size="1" style="font-size: 7pt">'keycloak-angular'</font></font>;</span></span></font></font>


<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">let</font></font> keycloakConfig: KeycloakConfig = {</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">url: </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">'http://localhost:8080/auth'</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">,</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">realm: </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">'demo'</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">,</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">clientId: </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">'my-app'</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">};</span></span></font></font>


<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">export</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">const</font></font> environment = {</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">production: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">false</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">,</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">keycloak: keycloakConfig</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">};</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Next
	we need to make sure that the KeycloakService is initialized during
	the application loading, using the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://angular.io/api/core/APP_INITIALIZER" target="_blank">APP_INITIALIZER</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;token.
	The&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>APP_INITIALIZER</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;injection
	token is a way for you to take part in the Angular app
	initialization process to do your own work. &nbsp;Here It is used as
	a provider in the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>AppModule</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">:</span></span></span></span></span></font></font></span></p>
	<pre class="western" style="border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 160%; orphans: 2; widows: 2; background: #e6e9ec"><span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">import</font></font> { NgModule, APP_INITIALIZER } <font color="#17afb8"><font size="1" style="font-size: 7pt">from</font></font> <font color="#e61e89"><font size="1" style="font-size: 7pt">'@angular/core'</font></font>;</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">import</font></font> { KeycloakService, KeycloakAngularModule } <font color="#17afb8"><font size="1" style="font-size: 7pt">from</font></font> <font color="#e61e89"><font size="1" style="font-size: 7pt">'keycloak-angular'</font></font>;</span></span></font></font>


<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">export</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">function</font></font><font size="1" style="font-size: 7pt"> </font><font color="#900021"><font size="1" style="font-size: 7pt">kcInitializer</font></font><font size="1" style="font-size: 7pt">(keycloak: KeycloakService): () =&gt; </font><font color="#900021"><font size="1" style="font-size: 7pt">Promise</font></font><font size="1" style="font-size: 7pt">&lt;</font><font color="#900021"><font size="1" style="font-size: 7pt">any</font></font><font size="1" style="font-size: 7pt">&gt; </font>{</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">return</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> (): </span></span></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">Promise</span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">&lt;any&gt; =&gt; {</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;<font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">return</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">new</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> </span></span></font></font><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">Promise</span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">(</span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">async</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> (resolve, reject) =&gt; {</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">try</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> {</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">await</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> keycloak.init({</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">config: environment.keycloak,</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">initOptions: {</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">onLoad: </span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">'login-required'</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">,</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">checkLoginIframe: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">false</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">},</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">enableBearerInterceptor: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">true</span></span></font></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">});</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">resolve();</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">} </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">catch</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal"> (error) {</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">console</span></span></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">.log(</span></span></font></font><font color="#e61e89"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">&quot;Error thrown in init &quot;</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">+error);</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">reject(error);</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">});</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">}; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">}</span></span></font></font>


<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">@NgModule({</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">imports: [KeycloakAngularModule],</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">providers: [</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;&nbsp;&nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">{ provide: APP_INITIALIZER, useFactory: kcInitializer, multi: </span></span></font></font><font color="#17afb8"><font face="monospace"><font size="1" style="font-size: 7pt"><span style="font-style: normal"><span style="font-weight: normal">true</span></span></font></font></font><font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">, deps: [KeycloakService] }</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"> &nbsp;<font face="monospace"><font size="2" style="font-size: 9pt"><span style="font-style: normal"><span style="font-weight: normal">]</span></span></font></font></span></span>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace">})</span></span></font></font>

<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="monospace"><font color="#17afb8"><font size="1" style="font-size: 7pt">export</font></font> <font color="#17afb8"><font size="1" style="font-size: 7pt">class</font></font><font size="1" style="font-size: 7pt"> </font><font color="#544bc2"><font size="1" style="font-size: 7pt">AppModule</font></font><font size="1" style="font-size: 7pt"> </font>{}</span></span></font></font></pre><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">The
	important part is the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>kcInitializer</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;function
	which initialises the Keycloak instance using the properties from
	our&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>environment.ts</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;configuration.
	We specify&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>login-required</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;as
	the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>onLoad</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;option
	to automatically authenticate users by redirecting them to the
	Keycloak login page, but only if that user is not already
	authenticated.</span></span></span></span></span></font></font></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">By
	default all HttpClient requests will add the&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><b><span style="background: transparent"><strong>Authorization
	header</span></b></span></span></font></font></span></strong><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;in
	the format of:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>Authorization:
	Bearer &lt;TOKEN&gt;</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">.</span></span></span></span></span></font></font></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Run
	the application</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Execute
	the following steps in three separate terminal windows:</span></span></font></font></p>
	<ol>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Start
		the Keycloak server by executing&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>bin/standalone.sh</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;from
		the Keycloak directory</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>.</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Start
		the Spring Boot backend by executing&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>mvn
		clean package spring-boot:run</span></span></span></i></span></font></font></span></em></p>
		<li><p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
		<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Start
		the Angular application executing&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>yarn
		start</span></span></i></span></font></font></span></em><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;from
		the frontend directory.</span></span></span></span></span></font></font></span></p>
	</ol>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">Open
	an internet browser and navigate to the url:&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font face="Georgia, Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><i><span style="font-weight: normal"><span style="background: transparent"><em>http://localhost:4200</span></span></span></i></span></font></font></span></em></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">You
	will be presented with the Keycloak login screen:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_74a45190263b832b.png" name="Image22" align="bottom" width="631" height="536" border="0"/>
</span></span></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">Enter
	one of the username and password combination created earlier to sign
	in.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">After
	a successful login you will see the product catalogue page, click on
	any of the Product Catalogues:</span></span></font></font></p>
	<p style="margin-bottom: 0cm; font-variant: normal; letter-spacing: normal; line-height: 320%; orphans: 2; widows: 2">
	<span style="display: inline-block; border: none; padding: 0cm"><span style="background: transparent"><img src="documentation_html_b9832f5fbf2add2d.png" name="Image23" align="bottom" width="744" height="593" border="0"/>
</span></span></p>
	<h2 class="western" style="margin-top: 0cm; margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; line-height: 133%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><b><span style="background: transparent"><font face="apple-system, system-ui, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Fira Sans, Ubuntu, Oxygen, Oxygen Sans, Cantarell, Droid Sans, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Lucida Grande, Helvetica, Arial, sans-serif">Conclusion</span></span></b></font></font></h2>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; font-variant: normal; letter-spacing: normal; font-style: normal; font-weight: normal; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font size="2" style="font-size: 9pt"><span style="background: transparent"><font face="Source Serif Pro, serif">I
	hope this article has shown how easy it is to create a simple Spring
	Boot application and an Angular UI and then secure it with Keycloak.</span></span></font></font></p>
	<p style="margin-bottom: 0cm; border: none; padding: 0cm; line-height: 320%; orphans: 2; widows: 2; background: transparent">
	<span style="display: inline-block; border: none; padding: 0cm"><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">You
	can check out the full&nbsp;</span></span></span></span></font></font></span><span style="font-variant: normal"><font color="#665ed0"><span style="text-decoration: none"><font face="Source Serif Pro, serif"><font size="3" style="font-size: 12pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><a href="https://github.com/jannie-louwrens/spring-boot-keycloak-angular" target="_blank">source
	code</span></span></span></span></font></font></span></font></span></a><font face="Source Serif Pro, serif"><font size="2" style="font-size: 9pt"><span style="letter-spacing: normal"><span style="font-style: normal"><span style="font-weight: normal"><span style="background: transparent"><span style="font-variant: normal">&nbsp;for
	the demo project from GitHub.</span></span></span></span></span></font></font></span></p>
</div>
<p style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
</body>
</html>